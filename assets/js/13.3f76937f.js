(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{429:function(n,s,e){"use strict";e.r(s);var t=e(2),a=Object(t.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"ios时间格式化展示nan问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios时间格式化展示nan问题"}},[n._v("#")]),n._v(" ios时间格式化展示NaN问题")]),n._v(" "),s("p",[n._v('ios手机移动端开发时间显示NaN问题是由于new Date()参数时间格式不能用" -“分割,需要使用”/ "分割.')]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("let date = \"2020-01-01\";\nnew Date(date.replace(/-/g,'/'));\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])]),s("h2",{attrs:{id:"复制链接操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复制链接操作"}},[n._v("#")]),n._v(" 复制链接操作")]),n._v(" "),s("p",[n._v("复制失败有两种原因")]),n._v(" "),s("ol",[s("li",[n._v("第一种是因为复制逻辑有问题，需要兼容ios")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("copyText(text) {\n      // 数字没有 .length 不能执行selectText 需要转化成字符串\n      const textString = text.toString()\n      let input = document.querySelector('#copy-input')\n      if (!input) {\n        input = document.createElement('input')\n        input.id = 'copy-input'\n        input.readOnly = 'readOnly' // 防止ios聚焦触发键盘事件\n        input.style.position = 'absolute'\n        input.style.left = '-1000px'\n        input.style.zIndex = '-1000'\n        document.body.appendChild(input)\n      }\n\n      input.value = textString\n      // ios必须先选中文字且不支持 input.select();\n      selectText(input, 0, textString.length)\n      console.log(document.execCommand('copy'), 'execCommand')\n      if (document.execCommand('copy')) {\n        document.execCommand('copy')\n        alert('已复制到粘贴板')\n      }\n      input.blur()\n\n      // input自带的select()方法在苹果端无法进行选择，所以需要自己去写一个类似的方法\n      // 选择文本。createTextRange(setSelectionRange)是input方法\n      function selectText(textbox, startIndex, stopIndex) {\n        if (textbox.createTextRange) {\n          //ie\n          const range = textbox.createTextRange()\n          range.collapse(true)\n          range.moveStart('character', startIndex) //起始光标\n          range.moveEnd('character', stopIndex - startIndex) //结束光标\n          range.select() //不兼容苹果\n        } else {\n          //firefox/chrome\n          textbox.setSelectionRange(startIndex, stopIndex)\n          textbox.focus()\n        }\n      }\n    },\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[n._v("ios不能同步复制，需要现在created中获取需要复制的链接。点击时复制")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("created(){\n    // 复制链接接口 提前获取数据 解决ios不能异步复制的问题\n    const [err1, r1] = await client.mobileContractGetContractFile({\n      body: {\n        id: this.id\n      }\n    })\n    if (err1) {\n      handleError(err1)\n    }\n    this.copyUrl = r1.data.downloadUrl\n}\n\nasync copyLink() {\n      this.copyText(this.copyUrl)\n},\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br")])]),s("h2",{attrs:{id:"小程序内web-view坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序内web-view坑"}},[n._v("#")]),n._v(" 小程序内web-view坑")]),n._v(" "),s("p",[n._v("当小程序代码与web-view共存时，通过v-if切换。布局会有问题，未解决")]),n._v(" "),s("p",[n._v("从web-view跳转到小程序内，横屏签名，回来popul高度发生变化。目前是通过动态添加css解决。未发现更好的解决方法。")])])}),[],!1,null,null,null);s.default=a.exports}}]);